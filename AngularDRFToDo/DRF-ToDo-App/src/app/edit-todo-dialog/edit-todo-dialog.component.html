<h3 class="title">
    Edit ToDo
</h3>

<div mat-dialog-content>
    <form id="todoForm" #form="ngForm">

        <div class="field">
            <div class="control">
                <input [ngModel]="todo.todo_title" ngModel class="input" type="text" placeholder="Type todo text here..." name="todo_title" id="todo_title" ng-minlength="5" required minlength="2" #todoTextField="ngModel"  id="updated_todo_title">
            </div>
        </div>
        <div *ngIf="todoTextField.invalid && showValiidationErrors" style="color: red;">
            <p class="help is-dander" *ngIf="todoTextField.errors.required">
                Please enter some text to create ToDo
            </p>
            <p class="help is-dander" *ngIf="todoTextField.errors.minlength">
                ToDo text must be at least 2 characters
            </p>
        </div>

        <div class="field is-grouped" style="margin: 0;">
            <p class="control is-expanded" style="width: 30%; min-width: 15%; display: flex; max-width: 43%;">
                <input [ngModel]="todo.start_date" ngModel matInput class="input" [min]="minDate" [max]="maxDate" [matDatepicker]="start_date" placeholder="Start Date*" required name="start_date" id="start_date" #todoStartDateField="ngModel">
                <mat-datepicker-toggle matSuffix [for]="start_date"></mat-datepicker-toggle>
                <mat-datepicker #start_date [startAt]="start_date"></mat-datepicker>
            </p>
            <p class="control is-expanded" style="width: 30%; min-width: 15%; display: flex; max-width: 43%;">
                <input [ngModel]="todo.end_date" ngModel matInput class="input" [min]="minDate" [max]="maxDate" [matDatepicker]="end_date" placeholder="End Date*" required name="end_date" id="end_date" #todoEndDateField="ngModel">
                <mat-datepicker-toggle matSuffix [for]="end_date"></mat-datepicker-toggle>
                <mat-datepicker #end_date [startAt]="end_date"></mat-datepicker>
            </p>
        </div>

        <br>

        <div class="field is-grouped is-grouped-right">
            <div class="control">
                <button type="button" class="button is-light" (click)="close()">Cancel</button>
            </div>
            <div class="control">
                <button type="submit" class="button alt-gradient-button" (click)="onEditClicked(todo, form)">
                    <i class="material-icons">save</i>
                    Save
                </button>
            </div>
        </div>

    </form>
    
</div>